; PlatformIO Project Configuration File for ESP8266
; WiFi Control Module for Guitar Hero Synthesizer

[env:esp12e]
platform = espressif8266
board = esp12e
framework = arduino

; CPU frequency - 160MHz for better performance
board_build.f_cpu = 160000000L

; Flash settings
board_build.flash_mode = dio
board_build.ldscript = eagle.flash.4m1m.ld

; Build flags
build_flags =
    -D ESP8266
    -D ARDUINO_ESP8266_ESP12
    -D F_CPU=160000000L
    -D LWIP_OPEN_SRC
    -D TCP_MSS=536
    -D BEARSSL_SSL_BASIC
    -D CORE_DEBUG_LEVEL=0
    -Wl,-Teagle.flash.4m1m.ld

; Library dependencies
lib_deps =
    ESP8266WiFi
    ESP8266WebServer
    ArduinoJson@^6.21.0
    ESPAsyncTCP@^1.2.2
    ESPAsyncWebServer@^1.2.3
    OSC@^1.3.5

; Serial Monitor Settings
monitor_speed = 115200
monitor_port = /dev/ttyUSB0
monitor_filters =
    default
    time
    esp8266_exception_decoder

; Upload settings
upload_speed = 921600
upload_port = /dev/ttyUSB0

; OTA settings
upload_protocol = espota
upload_port = guitarhero.local
upload_flags =
    --auth=music123

; File system
board_build.filesystem = littlefs

; Extra scripts
extra_scripts =
    pre:scripts/pre_build.py
    post:scripts/post_build.py